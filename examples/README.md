# SAgent CLI ä½¿ç”¨æŒ‡å—

## ç®€ä»‹

SAgent CLI æ˜¯ä¸€ä¸ªåŸºäºå‘½ä»¤è¡Œçš„æ™ºèƒ½ä»£ç†äº¤äº’å·¥å…·ï¼Œæ”¯æŒæµå¼å¯¹è¯ã€å·¥å…·è°ƒç”¨ã€å¤šæ™ºèƒ½ä½“åä½œç­‰åŠŸèƒ½ã€‚é€šè¿‡ç¾è§‚çš„æ¶ˆæ¯æ¡†æ¶æ˜¾ç¤ºä¸åŒç±»å‹çš„æ¶ˆæ¯ï¼Œæä¾›è‰¯å¥½çš„ç”¨æˆ·ä½“éªŒã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ¤– **æ™ºèƒ½å¯¹è¯**ï¼šæ”¯æŒä¸AIæ™ºèƒ½ä½“è¿›è¡Œè‡ªç„¶è¯­è¨€å¯¹è¯
- ğŸ”§ **å·¥å…·é›†æˆ**ï¼šé›†æˆMCPå·¥å…·ï¼Œæ”¯æŒæ–‡ä»¶æ“ä½œã€ç½‘ç»œæœç´¢ç­‰åŠŸèƒ½
- ğŸ§  **æ·±åº¦æ€è€ƒ**ï¼šå¯é€‰å¯ç”¨æ·±åº¦æ€è€ƒæ¨¡å¼ï¼Œæä¾›æ›´è¯¦ç»†çš„æ¨ç†è¿‡ç¨‹
- ğŸ‘¥ **å¤šæ™ºèƒ½ä½“**ï¼šæ”¯æŒå¤šæ™ºèƒ½ä½“åä½œï¼Œå¤„ç†å¤æ‚ä»»åŠ¡
- ğŸ¨ **ç¾è§‚ç•Œé¢**ï¼šå½©è‰²æ¶ˆæ¯æ¡†æ¶ï¼Œä¸åŒæ¶ˆæ¯ç±»å‹æœ‰ä¸åŒçš„è§†è§‰æ•ˆæœ
- âš¡ **æµå¼è¾“å‡º**ï¼šå®æ—¶æ˜¾ç¤ºAIå“åº”ï¼Œæä¾›æµç•…çš„äº¤äº’ä½“éªŒ

## å®‰è£…è¦æ±‚

ç¡®ä¿å·²å®‰è£…ä»¥ä¸‹ä¾èµ–ï¼š

```bash
pip install rich openai asyncio
```

## é…ç½®æ–‡ä»¶

### 1. MCPè®¾ç½®æ–‡ä»¶ (mcp_setting.json)

é…ç½®MCPå·¥å…·æœåŠ¡å™¨ï¼š

```json
{
  "mcpServers": {
    "filesystem": {
      "command": "npx",
      "args": ["@modelcontextprotocol/server-filesystem", "/path/to/workspace"],
      "env": {}
    }
  }
}
```

### 2. é¢„è®¾è¿è¡Œé…ç½® (preset_running_config.json)

è¯¥jsoné…ç½®ï¼Œå¯ä»¥åœ¨agent developmentçš„é¡µé¢ä¸­å¯¼å‡ºã€‚

é…ç½®é»˜è®¤å‚æ•°ï¼š

```json
{
  "llmConfig": {
    "model": "deepseek/deepseek-chat",
    "maxTokens": 4096,
    "temperature": 0.2
  },
  "deepThinking": false,
  "multiAgent": false,
  "availableTools": [],
  "systemPrefix": "ä½ æ˜¯ä¸€ä¸ªæœ‰ç”¨çš„AIåŠ©æ‰‹ã€‚",
  "maxLoopCount": 10,
  "available_workflows": {},
  "system_context": {}
}
```

## ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ç”¨æ³•

```bash
python sagents_cli.py --api_key YOUR_API_KEY --model deepseek/deepseek-chat --base_url https://api.deepseek.com
```

### å®Œæ•´å‚æ•°ç¤ºä¾‹

```bash
python sagents_cli.py \
  --api_key YOUR_API_KEY \
  --model deepseek/deepseek-chat \
  --base_url https://api.deepseek.com \
  --max_tokens 4096 \
  --temperature 0.2 \
  --workspace ./workspace \
  --mcp_setting_path ./mcp_setting.json \
  --preset_running_config_path ./preset_running_config.json
```

### é«˜çº§é€‰é¡¹

```bash
# å¯ç”¨æ·±åº¦æ€è€ƒæ¨¡å¼
python sagents_cli.py --api_key KEY --model MODEL --base_url URL

# ç¦ç”¨æ·±åº¦æ€è€ƒ
python sagents_cli.py --api_key KEY --model MODEL --base_url URL --no-deepthink

# ç¦ç”¨å¤šæ™ºèƒ½ä½“
python sagents_cli.py --api_key KEY --model MODEL --base_url URL --no-multi-agent

# æŒ‡å®šå·¥å…·ç›®å½•
python sagents_cli.py --api_key KEY --model MODEL --base_url URL --tools_folders ./tools ./custom_tools
```

## å‘½ä»¤è¡Œå‚æ•°

| å‚æ•°                             | å¿…éœ€ | è¯´æ˜             | é»˜è®¤å€¼                       |
| -------------------------------- | ---- | ---------------- | ---------------------------- |
| `--api_key`                    | âœ…   | APIå¯†é’¥          | -                            |
| `--model`                      | âœ…   | æ¨¡å‹åç§°         | -                            |
| `--base_url`                   | âœ…   | APIåŸºç¡€URL       | -                            |
| `--tools_folders`              | âŒ   | å·¥å…·ç›®å½•è·¯å¾„     | []                           |
| `--max_tokens`                 | âŒ   | æœ€å¤§ä»¤ç‰Œæ•°       | 4096                         |
| `--temperature`                | âŒ   | æ¸©åº¦å‚æ•°         | 0.2                          |
| `--no-deepthink`               | âŒ   | ç¦ç”¨æ·±åº¦æ€è€ƒ     | False                        |
| `--no-multi-agent`             | âŒ   | ç¦ç”¨å¤šæ™ºèƒ½ä½“     | False                        |
| `--workspace`                  | âŒ   | å·¥ä½œç›®å½•         | ./agent_workspace            |
| `--mcp_setting_path`           | âŒ   | MCPè®¾ç½®æ–‡ä»¶è·¯å¾„  | ./mcp_setting.json           |
| `--preset_running_config_path` | âŒ   | é¢„è®¾é…ç½®æ–‡ä»¶è·¯å¾„ | ./preset_running_config.json |

## äº¤äº’ç•Œé¢

### æ¶ˆæ¯ç±»å‹

ç¨‹åºä¼šæ˜¾ç¤ºä¸åŒç±»å‹çš„æ¶ˆæ¯ï¼Œæ¯ç§ç±»å‹éƒ½æœ‰ç‹¬ç‰¹çš„é¢œè‰²å’Œå›¾æ ‡ï¼š

- ğŸ”§ **å·¥å…·è°ƒç”¨** (é»„è‰²)
- âš™ï¸ **å·¥å…·ç»“æœ** (é»„è‰²)
- ğŸ¯ **å­ä»»åŠ¡ç»“æœ** (çº¢è‰²)
- âŒ **é”™è¯¯** (çº¢è‰²)
- âš™ï¸ **ç³»ç»Ÿ** (é»‘è‰²)
- ğŸ’¬ **æ™®é€šæ¶ˆæ¯** (è“è‰²)

### æ“ä½œå‘½ä»¤

åœ¨å¯¹è¯ä¸­å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š

- `exit` æˆ– `quit`ï¼šé€€å‡ºç¨‹åº
- `Ctrl+C`ï¼šå¼ºåˆ¶é€€å‡º

## ç¤ºä¾‹å¯¹è¯

```
æ¬¢è¿ä½¿ç”¨ SAgent CLIã€‚è¾“å…¥ 'exit' æˆ– 'quit' é€€å‡ºã€‚
ä½ : å¸®æˆ‘åˆ›å»ºä¸€ä¸ªPythonæ–‡ä»¶
SAgent:

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ ğŸ”§ å·¥å…·è°ƒç”¨                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ file_write(content="print('Hello')",    â”‚
â”‚ file_path="hello.py")                   â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ âš™ï¸ å·¥å…·ç»“æœ                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ–‡ä»¶å·²æˆåŠŸåˆ›å»ºï¼šhello.py                   â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
```

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **APIå¯†é’¥é”™è¯¯**

   - æ£€æŸ¥APIå¯†é’¥æ˜¯å¦æ­£ç¡®
   - ç¡®è®¤APIæœåŠ¡å¯ç”¨
2. **æ¨¡å‹ä¸å­˜åœ¨**

   - éªŒè¯æ¨¡å‹åç§°æ˜¯å¦æ­£ç¡®
   - æ£€æŸ¥APIæä¾›å•†æ”¯æŒçš„æ¨¡å‹åˆ—è¡¨
3. **å·¥å…·è°ƒç”¨å¤±è´¥**

   - æ£€æŸ¥MCPè®¾ç½®æ–‡ä»¶é…ç½®
   - ç¡®è®¤å·¥å…·æœåŠ¡å™¨æ­£å¸¸è¿è¡Œ
4. **é…ç½®æ–‡ä»¶é”™è¯¯**

   - éªŒè¯JSONæ ¼å¼æ˜¯å¦æ­£ç¡®
   - æ£€æŸ¥æ–‡ä»¶è·¯å¾„æ˜¯å¦å­˜åœ¨

### è°ƒè¯•æ¨¡å¼

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œå¯ä»¥æŸ¥çœ‹è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯ï¼š

```bash
# ç¨‹åºä¼šè‡ªåŠ¨æ˜¾ç¤ºé”™è¯¯å †æ ˆä¿¡æ¯
# æ£€æŸ¥æ—¥å¿—è¾“å‡ºä»¥è·å–æ›´å¤šè°ƒè¯•ä¿¡æ¯
```

## å¼€å‘è¯´æ˜

### ä»£ç ç»“æ„

- `sagents_cli.py`ï¼šä¸»ç¨‹åºå…¥å£
- `mcp_setting.json`ï¼šMCPå·¥å…·é…ç½®
- `preset_running_config.json`ï¼šé¢„è®¾è¿è¡Œé…ç½®

### è‡ªå®šä¹‰é…ç½®

å¯ä»¥é€šè¿‡ä¿®æ”¹é…ç½®æ–‡ä»¶æ¥è‡ªå®šä¹‰ï¼š

- é»˜è®¤æ¨¡å‹å‚æ•°
- ç³»ç»Ÿæç¤ºè¯
- å¯ç”¨å·¥å…·åˆ—è¡¨
- å·¥ä½œæµé…ç½®

## æ›´æ–°æ—¥å¿—

- æ”¯æŒæµå¼æ¶ˆæ¯æ¡†æ˜¾ç¤º
- ä¼˜åŒ–emojiå­—ç¬¦å®½åº¦è®¡ç®—
- ä¿®å¤è¾¹æ¡†å¯¹é½é—®é¢˜
- æ”¹è¿›é¢œè‰²æ ‡è®°å¤„ç†

## è®¸å¯è¯

æœ¬é¡¹ç›®éµå¾ªç›¸åº”çš„å¼€æºè®¸å¯è¯ã€‚
